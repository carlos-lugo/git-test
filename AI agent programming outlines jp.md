# Geminiコードアシスタント：指導原則

## **一般**

* **Markdownファイル:** Markdown（`.md`）ファイルを作成または編集する際は、常にGitHub Flavored Markdown（GFM）仕様を使用します。
* **言語:** すべてのコード、コメント、ドキュメントは英語で記述しなければなりません。
* **シンプルさ:** 不必要に複雑な解決策よりも、シンプルで明確、かつ読みやすい解決策を優先します（KISSの原則）。

## **コードスタイルとフォーマット**

* **スタイルガイド:** 使用しているプログラミング言語で定められたスタイルガイド（例：PythonのPEP 8、JavaScriptのPrettier）を厳守します。
* **インデント:** インデントにはタブではなくスペースを使用します。
* **ファイル長:** ファイルは焦点を絞り、簡潔に保ちます。300行を超えるファイルは、モジュール性と保守性を向上させるためにリファクタリングします。
* **コミットメッセージ:** 慣習的なフォーマット（例：`feat: Add user authentication endpoint`）に従って、明確で説明的なコミットメッセージを作成します。

## **コード品質とベストプラクティス**

* **再利用性:** 新しいロジックをゼロから書く前に、再利用できる既存のコード、パターン、または関数を常に探します（DRYの原則）。
* **モジュール性:** コードの重複を避けます。同様のロジックが存在する場合は、共有の関数やモジュールにリファクタリングします。
* **テスト:** すべての新機能と重要なバグ修正に対して、包括的なテストを作成します。
* **バグ修正:** バグを修正する際は、既存の技術スタックとパターンを使用します。新しいアプローチが必要な場合は、技術的負債を避けるために古い実装を完全に削除します。
* **セキュリティ:** ユーザー入力のサニタイズや認証情報の安全な管理など、常にセキュリティのベストプラクティスを考慮します。
* **依存関係:** 必要でない限り、新しい外部ライブラリや依存関係を追加しません。追加する場合はその正当性を説明します。
* **ドキュメント:** 行われた変更を反映するために、関連するドキュメント（例：README、API仕様、コードコメント）を更新します。

## **環境と安全性**

* **環境を意識したコード:** 環境変数を使用して設定を行い、すべての環境（開発、テスト、本番）で正しく機能するコードを作成します。
* **環境ファイル:** ユーザーからの明確な指示と確認なしに、環境設定ファイル（例：`.env`）を**絶対に**上書きまたは変更しません。
* **モックデータ:** モックデータとシミュレーションロジックは自動テスト専用であり、開発ビルドや本番ビルドに含めてはなりません。
* **テストのワークフロー:** 変更を加えた後、関連するサーバーやサービスを再起動して、クリーンな環境で検証されていることを確認します。競合を避けるため、以前に実行されていたすべてのプロセスを強制終了します。

## **スコープと焦点**

* **タスクの遵守:** リクエストされた変更のみを実装します。タスクに関係のないコードには触れません。
* **不要なリファクタリングの禁止:** 改善の可能性があると判断した場合でも、リクエストの直接のスコープ外にあるコードのリファクタリングは避けます。